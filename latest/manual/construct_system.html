<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Construct body-joint system · Dyn3d.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Dyn3d.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li class="current"><a class="toctext" href="construct_system.html">Construct body-joint system</a><ul class="internal"><li><a class="toctext" href="#User-oriented-set-up-1">User-oriented set up</a></li><li><a class="toctext" href="#Code-oriented-construction-1">Code-oriented construction</a></li><li><a class="toctext" href="#Methods-1">Methods</a></li><li><a class="toctext" href="#Index-1">Index</a></li></ul></li><li><a class="toctext" href="fluid_interaction.html">Fluid-Structure Interaction</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="construct_system.html">Construct body-joint system</a></li></ul><a class="edit-page" href="https://github.com/ruizhi92/Dyn3d.jl/blob/master/docs/src/manual/construct_system.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Construct body-joint system</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Construct-body-joint-system-1" href="#Construct-body-joint-system-1">Construct body-joint system</a></h1><h2><a class="nav-anchor" id="User-oriented-set-up-1" href="#User-oriented-set-up-1">User-oriented set up</a></h2><p><code>ConfigDataType</code></p><h2><a class="nav-anchor" id="Code-oriented-construction-1" href="#Code-oriented-construction-1">Code-oriented construction</a></h2><p>Before running any dynamics, we need to construct the body-joint system, connecting bodies by joints in the correct hierarchy using supplied configuration information. In order to do that, three key functions are used:</p><ul><li><p><a href="construct_system.html#Dyn3d.ConstructSystem.AddBody-Tuple{Int64,Dyn3d.ConfigDataType.ConfigBody}"><code>AddBody(id::Int, cb::ConfigBody)</code></a></p></li><li><p><a href="construct_system.html#Dyn3d.ConstructSystem.AddJoint-Tuple{Int64,Dyn3d.ConfigDataType.ConfigJoint}"><code>AddJoint(id::Int, cj::ConfigJoint)</code></a></p></li><li><p><a href="construct_system.html#Dyn3d.ConstructSystem.AssembleSystem-Tuple{Array{Dyn3d.ConstructSystem.SingleBody,1},Array{Dyn3d.ConstructSystem.SingleJoint,1},Dyn3d.ConstructSystem.System}"><code>AssembleSystem(bs, js, sys)</code></a></p></li></ul><p>which is responsible for add a body to the body system, add a joint to the joint system and assemble the body-joint system and fill in extra hierarchy information. These three functions are also bundled in the correct sequential order in</p><ul><li><p><a href="construct_system.html#Dyn3d.ConstructSystem.BuildChain-Tuple{Array{Dyn3d.ConfigDataType.ConfigBody,1},Array{Dyn3d.ConfigDataType.ConfigJoint,1},Dyn3d.ConfigDataType.ConfigSystem}"><code>BuildChain(cbs, cjs, csys)</code></a></p></li></ul><p>In order to solve for the rigid body-joint chain system, we choose body velocity <span>$v$</span> and joint displacement <span>$qJ$</span> as main variables in the time marching scheme. We also need to construct a structure that stores and updates the body-joint chain&#39;s intermediate variables such as all kinds of transformation matrices <span>$X$</span>, body position in the inertial space <span>$x_i$</span> and so on. All information of the body-joint system is bundled into a <code>BodyDyn</code> structure.</p><h2><a class="nav-anchor" id="Methods-1" href="#Methods-1">Methods</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dyn3d.ConfigDataType.ConfigBody-Tuple{Any}" href="#Dyn3d.ConfigDataType.ConfigBody-Tuple{Any}"><code>Dyn3d.ConfigDataType.ConfigBody</code></a> — <span class="docstring-category">Method</span>.</div><div><p>the final plotting direction is:          ^(y)          |_____&gt;(x)      (-z) the coordinate for verts in 2d input is in [z,x]. So y direction only allow zero-width body</p></div><a class="source-link" target="_blank" href="https://github.com/ruizhi92/Dyn3d.jl/blob/5ffe30201a300b5e450e8e36ab58d428bdc9ada7/src/config_files/ConfigDataType.jl#L85-L92">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dyn3d.ConstructSystem.Soln" href="#Dyn3d.ConstructSystem.Soln"><code>Dyn3d.ConstructSystem.Soln</code></a> — <span class="docstring-category">Type</span>.</div><div><p>This module construct the body-joint system by:     1. AddBody     2. AddJoint     3. AssembleSystem</p></div><a class="source-link" target="_blank" href="https://github.com/ruizhi92/Dyn3d.jl/blob/5ffe30201a300b5e450e8e36ab58d428bdc9ada7/src/ConstructSystem.jl#L16-L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dyn3d.ConstructSystem.AddBody-Tuple{Int64,Dyn3d.ConfigDataType.ConfigBody}" href="#Dyn3d.ConstructSystem.AddBody-Tuple{Int64,Dyn3d.ConfigDataType.ConfigBody}"><code>Dyn3d.ConstructSystem.AddBody</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">AddBody(id::Int, cf::ConfigBody)</code></pre><p>Using ConfigBody information, add one body to the body system bs</p></div><a class="source-link" target="_blank" href="https://github.com/ruizhi92/Dyn3d.jl/blob/5ffe30201a300b5e450e8e36ab58d428bdc9ada7/src/ConstructSystem.jl#L321-L325">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dyn3d.ConstructSystem.AddJoint-Tuple{Int64,Dyn3d.ConfigDataType.ConfigJoint}" href="#Dyn3d.ConstructSystem.AddJoint-Tuple{Int64,Dyn3d.ConfigDataType.ConfigJoint}"><code>Dyn3d.ConstructSystem.AddJoint</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">AddJoint(id::Int, cf::ConfigJoint)</code></pre><p>Using ConfigJoint information, add one joint to the joint system js</p></div><a class="source-link" target="_blank" href="https://github.com/ruizhi92/Dyn3d.jl/blob/5ffe30201a300b5e450e8e36ab58d428bdc9ada7/src/ConstructSystem.jl#L402-L406">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dyn3d.ConstructSystem.AssembleSystem-Tuple{Array{Dyn3d.ConstructSystem.SingleBody,1},Array{Dyn3d.ConstructSystem.SingleJoint,1},Dyn3d.ConstructSystem.System}" href="#Dyn3d.ConstructSystem.AssembleSystem-Tuple{Array{Dyn3d.ConstructSystem.SingleBody,1},Array{Dyn3d.ConstructSystem.SingleJoint,1},Dyn3d.ConstructSystem.System}"><code>Dyn3d.ConstructSystem.AssembleSystem</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">AssembleSystem(bs::Vector{SingleBody}, js::Vector{SingleJoint}, sys::System)</code></pre><p>With body system bs and joint system js, fill in extra hierarchy information about the whole system, connects bodies and joints.</p></div><a class="source-link" target="_blank" href="https://github.com/ruizhi92/Dyn3d.jl/blob/5ffe30201a300b5e450e8e36ab58d428bdc9ada7/src/ConstructSystem.jl#L507-L512">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Dyn3d.ConstructSystem.BuildChain-Tuple{Array{Dyn3d.ConfigDataType.ConfigBody,1},Array{Dyn3d.ConfigDataType.ConfigJoint,1},Dyn3d.ConfigDataType.ConfigSystem}" href="#Dyn3d.ConstructSystem.BuildChain-Tuple{Array{Dyn3d.ConfigDataType.ConfigBody,1},Array{Dyn3d.ConfigDataType.ConfigJoint,1},Dyn3d.ConfigDataType.ConfigSystem}"><code>Dyn3d.ConstructSystem.BuildChain</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">BuildChain(cbs::Vector{ConfigBody}, cjs::Vector{ConfigJoint}, csys::ConfigSystem)</code></pre><p>Put AddBody, AddJoint and AssembleSystem in sequential order in a single function</p></div><a class="source-link" target="_blank" href="https://github.com/ruizhi92/Dyn3d.jl/blob/5ffe30201a300b5e450e8e36ab58d428bdc9ada7/src/ConstructSystem.jl#L682-L686">source</a></section><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="construct_system.html#Dyn3d.ConfigDataType.ConfigBody-Tuple{Any}"><code>Dyn3d.ConfigDataType.ConfigBody</code></a></li><li><a href="construct_system.html#Dyn3d.ConstructSystem.Soln"><code>Dyn3d.ConstructSystem.Soln</code></a></li><li><a href="construct_system.html#Dyn3d.ConstructSystem.AddBody-Tuple{Int64,Dyn3d.ConfigDataType.ConfigBody}"><code>Dyn3d.ConstructSystem.AddBody</code></a></li><li><a href="construct_system.html#Dyn3d.ConstructSystem.AddJoint-Tuple{Int64,Dyn3d.ConfigDataType.ConfigJoint}"><code>Dyn3d.ConstructSystem.AddJoint</code></a></li><li><a href="construct_system.html#Dyn3d.ConstructSystem.AssembleSystem-Tuple{Array{Dyn3d.ConstructSystem.SingleBody,1},Array{Dyn3d.ConstructSystem.SingleJoint,1},Dyn3d.ConstructSystem.System}"><code>Dyn3d.ConstructSystem.AssembleSystem</code></a></li><li><a href="construct_system.html#Dyn3d.ConstructSystem.BuildChain-Tuple{Array{Dyn3d.ConfigDataType.ConfigBody,1},Array{Dyn3d.ConfigDataType.ConfigJoint,1},Dyn3d.ConfigDataType.ConfigSystem}"><code>Dyn3d.ConstructSystem.BuildChain</code></a></li></ul><footer><hr/><a class="previous" href="../index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="fluid_interaction.html"><span class="direction">Next</span><span class="title">Fluid-Structure Interaction</span></a></footer></article></body></html>
