Remaining problem:

1. tau_total in HERK_func_f.f90 is now determined by passive and active dof. But I feel that this should not be determined by this. Active dof can also have resistance over the unconstrained dof.


2. gti should be the active motion constraint on the constrained dof.

3. Where should the active motion of unconstrained dof be specified?



The 'constrained dof' in Jourdain's principle should be the naturally constrained dof, decided only by joint type.


12/4/2017
deleted -- call jcalc to update vJ and qJ in embed_system
-- is there any fault in updating qJ?
-- init_system not complete
-- Block LU not complete
done -- Make a movie
-- clean up the code